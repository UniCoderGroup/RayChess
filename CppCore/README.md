Core of RayChess written in C++